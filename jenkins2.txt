podTemplate(containers: [
  containerTemplate(
    name: 'python',
    image: 'jenkins/inbound-agent-python:latest',
    command: 'sleep',
    args: '30d'
  )
]) {
  node(POD_LABEL) {
    stage('Get a Python Project') {
      container('python') {
        stages {
          stage('Checkout Code') {
            steps {
              script {
                // Print current directory
                sh 'pwd'

                // Create a workspace directory
                dir('jenkins_python_workspace') {
                  // Git clone with debug output
                  sh 'git clone --progress https://github.com/difh-ite/jenkins_python.git'

                  // List the content of the cloned repository
                  sh 'ls -la jenkins_python'
                }
              }
            }
          }

          // Add other stages as needed
        }
      }
    }
  }
}
